<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pixel Art to 3D Model Converter | Free STL & 3MF Generator</title>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-55YNN0FJ1Z"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-55YNN0FJ1Z');
    </script>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Free online pixel art to 3D model converter. Create 3D printable STL/3MF files for keychains, magnets & sprites. 100% in-browser — images never leave your device.">
    <meta name="keywords" content="pixel art to 3d, pixel art converter, 3d printable pixel art, stl generator, 3mf generator, pixel art keychain maker, pixel art magnet maker, retro game 3d print, 8-bit 3d model, sprite to 3d model, perler bead 3d print, free stl generator, image to stl converter, pixel art to stl, convert sprite to 3d, private, no upload, in-browser, free online 3d converter">
    <meta name="author" content="PixelArtTo3D">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://oct0f1sh.github.io/PixelArtTo3D/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://oct0f1sh.github.io/PixelArtTo3D/">
    <meta property="og:title" content="Pixel Art to 3D Model Converter - Free, Private, In-Browser">
    <meta property="og:description" content="Convert pixel art into 3D printable STL/3MF models. 100% in-browser processing — your images never leave your device. Perfect for keychains and retro gaming decorations.">
    <meta property="og:image" content="https://oct0f1sh.github.io/PixelArtTo3D/favicon.svg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://oct0f1sh.github.io/PixelArtTo3D/">
    <meta name="twitter:title" content="Pixel Art to 3D Model Converter - Free, Private, In-Browser">
    <meta name="twitter:description" content="Convert pixel art into 3D printable STL/3MF models. 100% in-browser — your images never leave your device. Perfect for keychains and retro gaming decorations.">
    <meta name="twitter:image" content="https://oct0f1sh.github.io/PixelArtTo3D/favicon.svg">

    <!-- Mobile/Theme -->
    <meta name="theme-color" content="#0a0a0a">
    <meta name="apple-mobile-web-app-title" content="PixelArt3D">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Pixel Art to 3D Model Converter",
      "alternativeHeadline": "Free STL/3MF Generator for Pixel Art, Sprites & Perler Bead Patterns",
      "description": "Free online tool to convert pixel art images into 3D printable models (STL/3MF). 100% in-browser processing — your images never leave your device. Create keychains, magnets, and decorations from your pixel art.",
      "url": "https://oct0f1sh.github.io/PixelArtTo3D/",
      "applicationCategory": "DesignApplication",
      "operatingSystem": "Any",
      "browserRequirements": "Requires JavaScript and WebGL",
      "permissions": "none",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "100% in-browser processing",
        "No image uploads — your files never leave your device",
        "Convert pixel art to 3D models",
        "Export to STL format",
        "Export to 3MF format with colors"
      ]
    }
    </script>

    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <!-- ============================================
         MAIN APP SHELL
         ============================================ -->
    <div class="app" id="app">

      <!-- ==========================================
           TOOLBAR - Top Navigation
           ========================================== -->
      <nav class="toolbar">
        <div class="toolbar-brand">
          <span class="brand-icon">◇</span>
          <span class="brand-text">PIXEL ART TO 3D</span>
        </div>

        <div class="toolbar-actions">
          <button type="button" class="tool-btn" id="undo-btn" title="Undo (Cmd+Z)" disabled>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 10h10a5 5 0 0 1 5 5v2M3 10l4-4M3 10l4 4"/>
            </svg>
          </button>
          <button type="button" class="tool-btn" id="redo-btn" title="Redo (Shift+Cmd+Z)" disabled>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 10H11a5 5 0 0 0-5 5v2M21 10l-4-4M21 10l-4 4"/>
            </svg>
          </button>
          <div class="toolbar-divider"></div>
          <button type="button" class="tool-btn" id="reset-view-btn" title="Reset 3D View">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 12a9 9 0 1 1-9-9"/>
              <path d="M21 3v6h-6"/>
            </svg>
          </button>
        </div>
      </nav>

      <!-- ==========================================
           MAIN WORKSPACE
           ========================================== -->
      <main class="workspace">

        <!-- LEFT: Source Panel -->
        <section class="source-panel">

          <!-- Drop Zone (shown when no image) -->
          <div class="drop-zone" id="drop-zone">
            <input type="file" id="file-input" class="drop-zone-input" accept="image/png,image/jpeg,image/webp" />
            <div class="drop-zone-content">
              <div class="drop-icon">
                <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
                  <rect x="6" y="6" width="36" height="36" rx="4"/>
                  <circle cx="16" cy="16" r="3"/>
                  <path d="M42 30L32 20L18 34"/>
                  <path d="M28 38L14 24L6 32"/>
                </svg>
              </div>
              <h2 class="drop-title">Drop your pixel art</h2>
              <p class="drop-subtitle">or click to browse</p>
              <div class="drop-formats">PNG, JPG, WebP</div>
            </div>

            <div class="url-loader">
              <span class="url-label">URL</span>
              <input type="text" id="url-input" placeholder="https://..." />
              <button type="button" id="url-load-btn">Load</button>
            </div>
            <div id="url-status" class="url-status"></div>
          </div>

          <!-- Image Preview (shown when image loaded) -->
          <div class="source-preview" id="image-preview">
            <div class="preview-header">
              <div class="preview-tabs">
                <button type="button" class="preview-tab active" data-tab="input">Input</button>
                <button type="button" class="preview-tab" data-tab="output">Output</button>
              </div>
              <div class="preview-info">
                <span id="image-dimensions">-- × --</span>
              </div>
            </div>

            <div class="preview-viewport">
              <div class="preview-canvas-wrap" id="input-preview-container">
                <img id="preview-image" src="" alt="Source" />
                <canvas id="pixel-grid-overlay" class="pixel-grid-overlay"></canvas>
                <canvas id="crop-overlay" class="crop-overlay"></canvas>
              </div>
              <div class="preview-canvas-wrap hidden" id="output-preview-wrap">
                <img id="output-preview-image" src="" alt="Output" />
                <canvas id="output-grid-overlay" class="pixel-grid-overlay"></canvas>
              </div>
            </div>

            <div class="preview-toolbar">
              <label class="mini-toggle">
                <input type="checkbox" id="pixel-grid-toggle" />
                <span>Grid</span>
              </label>
              <label class="mini-toggle hidden" id="output-grid-toggle-wrap">
                <input type="checkbox" id="output-grid-toggle" />
                <span>Grid</span>
              </label>
              <button type="button" class="mini-btn" id="crop-toggle-btn">Crop</button>
              <div class="crop-actions hidden" id="crop-controls">
                <button type="button" class="mini-btn" id="crop-cancel-btn">Cancel</button>
                <button type="button" class="mini-btn primary" id="crop-apply-btn">Apply</button>
              </div>
              <div class="spacer"></div>
              <button type="button" class="mini-btn danger" id="clear-image-btn">Clear</button>
            </div>

            <div class="source-filename">
              <span id="image-filename">--</span>
            </div>
          </div>
        </section>

        <!-- CENTER: 3D Preview -->
        <section class="preview-panel">
          <div class="canvas-container" id="preview-container">
            <canvas id="preview-canvas"></canvas>
            <div class="canvas-empty" id="canvas-placeholder">
              <div class="empty-cube">
                <div class="cube-face front"></div>
                <div class="cube-face back"></div>
                <div class="cube-face left"></div>
                <div class="cube-face right"></div>
                <div class="cube-face top"></div>
                <div class="cube-face bottom"></div>
              </div>
              <p>Upload an image to preview</p>
            </div>
          </div>
        </section>

        <!-- RIGHT: Controls Panel -->
        <aside class="controls-panel">

          <!-- Section: Background -->
          <div class="ctrl-section" id="background-panel">
            <button type="button" class="ctrl-header" data-collapse="bg-content">
              <span class="ctrl-title">Background</span>
              <span class="ctrl-toggle">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"/>
                </svg>
              </span>
            </button>
            <div class="ctrl-body" id="bg-content">
              <label class="switch-row">
                <span>Remove background</span>
                <input type="checkbox" id="bg-remove-toggle" class="switch" />
              </label>
              <div class="color-pick-row" id="bg-remove-options">
                <div class="color-preview" id="bg-color-preview">
                  <span class="color-hint">Pick</span>
                </div>
                <button type="button" class="icon-btn" id="eyedropper-btn" title="Eyedropper">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M2 22l1-1h3l9-9M3 21v-3l9-9M14.5 5.5l4 4M18.5 9.5l-4-4 1.5-1.5a2.83 2.83 0 114 4L18.5 9.5z"/>
                  </svg>
                </button>
                <div class="slider-compact">
                  <input type="range" id="bg-tolerance-slider" min="0" max="50" value="10" />
                  <span class="slider-val" id="bg-tolerance-value">10</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Section: Dimensions -->
          <div class="ctrl-section" id="dimensions-panel">
            <button type="button" class="ctrl-header" data-collapse="dimensions-content">
              <span class="ctrl-title">Dimensions</span>
              <span class="ctrl-toggle">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"/>
                </svg>
              </span>
            </button>
            <div class="ctrl-body" id="dimensions-content">
              <div class="unit-row">
                <button type="button" class="unit-btn active" data-unit="mm">mm</button>
                <button type="button" class="unit-btn" data-unit="inches">in</button>
              </div>
              <div class="dim-input-row">
                <div class="dim-field">
                  <label>
                    <input type="radio" name="set-dimension" value="width" checked hidden />
                    <span class="dim-label active" id="dimension-input-label">Width</span>
                  </label>
                  <input type="number" id="dimension-input" min="5" max="200" value="30" step="0.1" />
                  <span class="dim-unit" id="dimension-unit-label">mm</span>
                </div>
              </div>
              <div class="dim-output">
                <div class="dim-out-item">
                  <span class="dim-out-val" id="output-width">30.0</span>
                  <span class="dim-out-label">W</span>
                </div>
                <span class="dim-out-x">×</span>
                <div class="dim-out-item">
                  <span class="dim-out-val" id="output-height">--</span>
                  <span class="dim-out-label">H</span>
                </div>
                <span class="dim-out-unit output-unit">mm</span>
              </div>
              <div class="dim-toggle-row">
                <button type="button" class="dim-toggle active" data-dim="width">Set Width</button>
                <button type="button" class="dim-toggle" data-dim="height">Set Height</button>
              </div>
            </div>
          </div>

          <!-- Section: Height -->
          <div class="ctrl-section" id="height-panel">
            <button type="button" class="ctrl-header" data-collapse="height-content">
              <span class="ctrl-title">3D Height</span>
              <span class="ctrl-toggle">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"/>
                </svg>
              </span>
            </button>
            <div class="ctrl-body" id="height-content">
              <div class="slider-row">
                <label class="slider-label">Pixel Height</label>
                <input type="range" id="pixel-height-slider" class="slider" min="0.5" max="10" value="1" step="0.1" />
                <span class="slider-val" id="pixel-height-value">1.0</span>
                <span class="slider-unit height-unit">mm</span>
              </div>
              <label class="switch-row">
                <span>Base layer</span>
                <input type="checkbox" id="base-toggle" class="switch" checked />
              </label>
              <div class="base-options" id="base-options">
                <div class="slider-row">
                  <label class="slider-label">Base Height</label>
                  <input type="range" id="base-height-slider" class="slider" min="0.5" max="5" value="2" step="0.1" />
                  <span class="slider-val" id="base-height-value">2.0</span>
                  <span class="slider-unit height-unit">mm</span>
                </div>
                <div class="color-row">
                  <label class="slider-label">Base Color</label>
                  <input type="color" id="base-color-input" value="#000000" />
                  <span class="color-hex" id="base-color-value">#000000</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Section: Keyhole -->
          <div class="ctrl-section" id="keyhole-panel">
            <button type="button" class="ctrl-header" data-collapse="keyhole-content">
              <span class="ctrl-title">Keyhole</span>
              <span class="ctrl-toggle">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"/>
                </svg>
              </span>
            </button>
            <div class="ctrl-body collapsed" id="keyhole-content">
              <label class="switch-row">
                <span>Enable keyhole</span>
                <input type="checkbox" id="keyhole-toggle" class="switch" />
              </label>
              <div class="keyhole-options hidden" id="keyhole-options">
                <div class="seg-control" id="keyhole-type-toggle">
                  <button type="button" class="seg-btn active" data-type="holepunch">
                    <input type="radio" name="keyhole-type" value="holepunch" checked hidden />
                    Punch
                  </button>
                  <button type="button" class="seg-btn" data-type="floating">
                    <input type="radio" name="keyhole-type" value="floating" hidden />
                    Float
                  </button>
                </div>
                <div class="keyhole-type-settings" id="holepunch-settings">
                  <div class="slider-row compact">
                    <label class="slider-label">Diameter</label>
                    <input type="range" id="hole-diameter-slider" min="2" max="8" step="0.5" value="4" />
                    <span class="slider-val" id="hole-diameter-value">4.0</span>
                    <span class="slider-unit">mm</span>
                  </div>
                </div>
                <div class="keyhole-type-settings hidden" id="floating-settings">
                  <div class="slider-row compact">
                    <label class="slider-label">Inner</label>
                    <input type="range" id="inner-diameter-slider" min="2" max="8" step="0.5" value="4" />
                    <span class="slider-val" id="inner-diameter-value">4.0</span>
                    <span class="slider-unit">mm</span>
                  </div>
                  <div class="slider-row compact">
                    <label class="slider-label">Outer</label>
                    <input type="range" id="outer-diameter-slider" min="4" max="12" step="0.5" value="8" />
                    <span class="slider-val" id="outer-diameter-value">8.0</span>
                    <span class="slider-unit">mm</span>
                  </div>
                </div>
                <p class="hint-text" id="keyhole-coords">Click model to place</p>
              </div>
            </div>
          </div>

          <!-- Section: Magnet -->
          <div class="ctrl-section" id="magnet-panel">
            <button type="button" class="ctrl-header" data-collapse="magnet-content">
              <span class="ctrl-title">Magnet</span>
              <span class="ctrl-toggle">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"/>
                </svg>
              </span>
            </button>
            <div class="ctrl-body collapsed" id="magnet-content">
              <label class="switch-row">
                <span>Enable magnet cavity</span>
                <input type="checkbox" id="magnet-toggle" class="switch" />
              </label>
              <div class="magnet-options hidden" id="magnet-options">
                <div class="seg-control" id="magnet-preset-toggle">
                  <button type="button" class="seg-btn" data-preset="small">
                    <input type="radio" name="magnet-preset" value="small" hidden />
                    6×2
                  </button>
                  <button type="button" class="seg-btn active" data-preset="medium">
                    <input type="radio" name="magnet-preset" value="medium" checked hidden />
                    8×3
                  </button>
                  <button type="button" class="seg-btn" data-preset="large">
                    <input type="radio" name="magnet-preset" value="large" hidden />
                    10×3
                  </button>
                  <button type="button" class="seg-btn" data-preset="custom">
                    <input type="radio" name="magnet-preset" value="custom" hidden />
                    ⚙
                  </button>
                </div>
                <div class="magnet-custom-settings hidden" id="magnet-custom-settings">
                  <div class="slider-row compact">
                    <label class="slider-label">⌀</label>
                    <input type="range" id="magnet-diameter-slider" min="4" max="15" step="0.5" value="8" />
                    <input type="number" id="magnet-diameter-value" min="1" max="30" step="0.1" value="8.0" class="num-input" />
                    <span class="slider-unit">mm</span>
                  </div>
                  <div class="slider-row compact">
                    <label class="slider-label">H</label>
                    <input type="range" id="magnet-height-slider" min="1" max="6" step="0.5" value="3" />
                    <input type="number" id="magnet-height-value" min="0.5" max="20" step="0.1" value="3.0" class="num-input" />
                    <span class="slider-unit">mm</span>
                  </div>
                </div>
                <div class="depth-row">
                  <label class="slider-label">Depth</label>
                  <label class="mini-toggle">
                    <input type="checkbox" id="magnet-center-toggle" />
                    <span>Center</span>
                  </label>
                </div>
                <div class="slider-row compact" id="depth-slider-container">
                  <input type="range" id="magnet-depth-slider" min="0" max="3" step="0.1" value="0.5" />
                  <input type="number" id="magnet-depth-value" min="0" max="10" step="0.1" value="0.5" class="num-input" />
                  <span class="slider-unit">mm</span>
                </div>
                <div class="magnet-info">
                  <div class="info-row">
                    <span>Below</span>
                    <span id="buffer-below">0.5 mm</span>
                  </div>
                  <div class="info-row">
                    <span>Above</span>
                    <span id="buffer-above">-- mm</span>
                  </div>
                  <div class="info-row total">
                    <span>Total</span>
                    <span id="buffer-total">-- mm</span>
                  </div>
                </div>
                <div class="magnet-actions">
                  <span class="magnet-count" id="magnet-count">0 placed</span>
                  <button type="button" class="mini-btn" id="clear-magnets-btn">Clear</button>
                </div>
                <p class="hint-text" id="magnet-coords">Click model to add</p>
              </div>
            </div>
          </div>

          <!-- Section: Colors -->
          <div class="ctrl-section" id="palette-panel">
            <button type="button" class="ctrl-header" data-collapse="palette-content">
              <span class="ctrl-title">Colors</span>
              <span class="badge" id="palette-count">0</span>
              <span class="ctrl-toggle">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"/>
                </svg>
              </span>
            </button>
            <div class="ctrl-body" id="palette-content">
              <label class="switch-row">
                <span>Reduce colors</span>
                <input type="checkbox" id="color-reduce-toggle" class="switch" />
              </label>
              <div class="color-reduce-options hidden" id="color-reduce-options">
                <div class="stepper-row">
                  <button type="button" class="stepper-btn" id="color-reduce-decrement">−</button>
                  <input type="number" id="color-reduce-value" class="stepper-val" min="2" max="256" value="8" />
                  <button type="button" class="stepper-btn" id="color-reduce-increment">+</button>
                </div>
                <input type="range" id="color-reduce-slider" min="2" max="256" value="8" class="full-slider" />
              </div>
              <div class="color-palette" id="color-palette">
                <div class="palette-empty">No colors yet</div>
              </div>
            </div>
          </div>

        </aside>
      </main>

      <!-- ==========================================
           EXPORT BAR - Bottom
           ========================================== -->
      <footer class="export-bar">
        <div class="export-format">
          <button type="button" class="format-btn" data-format="stl">
            <input type="radio" name="export-format" value="stl" hidden />
            <span class="format-name">STL</span>
            <span class="format-desc">Single color</span>
          </button>
          <button type="button" class="format-btn active" data-format="3mf">
            <input type="radio" name="export-format" value="3mf" checked hidden />
            <span class="format-name">3MF</span>
            <span class="format-desc">Multi-color</span>
          </button>
        </div>

        <div class="export-filename">
          <input type="text" id="filename-input" value="model" placeholder="filename" />
          <span class="file-ext" id="file-extension">.3mf</span>
        </div>

        <button type="button" class="export-btn" id="download-btn" disabled>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="7 10 12 15 17 10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
          </svg>
          <span>Export</span>
        </button>

        <div class="export-status" id="export-status"></div>
      </footer>

      <!-- ==========================================
           MODAL
           ========================================== -->
      <div class="modal-overlay" id="export-tutorial-modal">
        <div class="modal">
          <button type="button" class="modal-close" id="modal-close-btn">×</button>
          <h3 class="modal-title">Multi-Color Export</h3>
          <div class="modal-body">
            <p>Your 3MF contains separate objects per color. Assign filaments in your slicer.</p>
            <div class="modal-palette" id="modal-palette"></div>
          </div>
          <div class="modal-actions">
            <button type="button" class="modal-btn" id="modal-ok-btn">Got it</button>
          </div>
        </div>
      </div>

    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
